let products = {
    data : [
        {
            productName : "Nike Everyday Plus Cushioned Crew Socks",
            price : "$25",
            image : "https://images.stockx.com/images/Nike-Everyday-Plus-Cushioned-Crew-Socks-6-Pairs-White-Product.jpg",
            sizes : ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10"]
        },
        {
            productName : "Nike x Drake Certified Lover Boy Socks",
            price : "$35",
            image : "https://images.stockx.com/images/Nike-x-Drake-Certified-Lover-Boy-Socks-Black-Product.jpg",
            sizes : ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10"]
        },
        {
            productName : "Nike x NOCTA Crew Socks",
            price : "$30",
            image : "https://images.stockx.com/images/Nike-x-NOCTA-Crew-Socks-3-Pairs-Asia-Sizing-Grey.jpg",
            sizes : ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10"]
        },
        {
            productName : "OFF-WHITE x Nike Socks",
            price : "$25",
            image : "https://images.stockx.com/images/OFF-WHITE-x-Nike-Socks-Grey-Orange.jpg",
            sizes : ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10"]
        },
        {
            productName : "New Era x Takashi Murakami Flower Beanie",
            price : "$90",
            image : "https://images.stockx.com/images/New-Era-x-Takashi-Murakami-Flower-Basic-Cuff-Knit-Beanie-Black.jpg",
            sizes : ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10"]
        },
        {
            productName : "Supreme New Era Box Logo Beanie",
            price : "$60",
            image : "https://images.stockx.com/images/Supreme-New-Era-Box-Logo-Beanie-FW23-Black.jpg",
            sizes : ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10"]
        },
        {
            productName : "Travis Scott x McDonald's Cj Arches Beanie",
            price : "$50",
            image : "https://images.stockx.com/images/Travis-Scott-x-McDonalds-Cj-Arches-Beanie-Brown.jpg",
            sizes : ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10"]
        },
        {
            productName : "OVO Classic Owl Beanie",
            price : "$100",
            image : "https://images.stockx.com/images/OVO-Classic-Owl-Beanie-Black.jpg",
            sizes : ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10"]
        },
        {
            productName : "CREP PROTECT - STARTER PACK",
            price : "$30",
            image : "https://glab.vn/storage/products/2023/06/20/480x320/64916a5e39c4c.jpg",
            sizes : ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10"]
        },
        {
            productName : "CREP PROTECT WIPES",
            price : "$15",
            image : "https://glab.vn/storage/products/2023/06/08/480x320/6481c47807e00.jpg",
            sizes : ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10"]
        },
        {
            productName : "CREP PROTECT SUEDE & NUBUCK ERASER",
            price : "$17",
            image : "https://glab.vn/storage/products/2019/07/09/480x320/5d2468d5ce116.jpg",
            sizes : ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10"]
        },
        {
            productName : "CREP PROTECT CURE REFILL (200ML)",
            price : "$20",
            image : "https://glab.vn/storage/products/2019/07/09/480x320/5d24690e71138.jpg",
            sizes : ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10"]
        },
        {
            productName : "CREP PROTECT PILL",
            price : "$18",
            image : "https://glab.vn/storage/products/2019/07/09/480x320/5d246874c4ab6.jpg",
            sizes : ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10"]
        },
        {
            productName : "CREP PROTECT SPRAY",
            price : "$22",
            image : "https://glab.vn/storage/products/2022/11/02/480x320/636260901e06d.jpg",
            sizes : ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10"]
        },
        {
            productName : "CREP PROTECT CURE KIT",
            price : "$25",
            image : "https://glab.vn/storage/products/2020/08/05/480x320/5f2a879e76bf6.jpg",
            sizes : ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10"]
        },
        {
            productName : "CREP PROTECT CRATES (2 PACK)",
            price : "$50",
            image : "https://glab.vn/storage/products/2020/08/26/480x320/5f460eed94dfb.jpg",
            sizes : ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10"]
        },
        {
            productName : "Chinatown Market Globe Smiley Basketball",
            price : "$100",
            image : "https://images.stockx.com/images/Chinatown-Market-Globe-Smiley-Basketball.jpg",
            sizes : ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10"]
        },
        {
            productName : "Chinatown Market Smiley Basketball",
            price : "$80",
            image : "https://images.stockx.com/images/Chinatown-Market-Mini-Smiley-Basketball-Yellow.jpg",
            sizes : ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10"]
        },
        {
            productName : "Chinatown Market x Puma Smiley Basketball",
            price : "$90",
            image : "https://images.stockx.com/images/Chinatown-Market-x-Puma-Smiley-Basketball.jpg",
            sizes : ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10"]
        },
        {
            productName : "Chinatown Market Smiley Basketball",
            price : "$80",
            image : "https://images.stockx.com/images/Chinatown-Market-Smiley-Basketball-Red.jpg",
            sizes : ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10"]
        }
    ]
}

for (let i of products.data) {

    let card = document.createElement("div")
    card.classList.add("card")

    let imgContainer = document.createElement("div")
    imgContainer.classList.add("image-container")

    let image = document.createElement("img")
    image.setAttribute("src", i.image)
    imgContainer.appendChild(image)
    card.appendChild(imgContainer)

    let container = document.createElement("div")
    container.classList.add("card-container")

    let name = document.createElement("h5");
    name.classList.add("product-name");
    name.innerText = i.productName.toUpperCase();
    card-container.appendChild(name);

    let price = document.createElement("h6");
    price.innerText =  i.price;
    card-container.appendChild(price);
  
    card.appendChild(container);
    document.getElementById("products").appendChild(card);
}

console.log(products)



function openModal(product) {
    const modal = document.getElementById("modal");
    const modalImage = modal.querySelector(".modal-product-image");
    const modalName = modal.querySelector(".modal-product-name");
    const modalPrice = modal.querySelector(".modal-product-price");
    const modalSizes = modal.querySelector(".modal-product-sizes");
    const purchaseButton = modal.querySelector(".purchase-button");

    modalImage.src = product.image;
    modalName.textContent = product.productName;
    modalPrice.textContent = product.price;

    // Clear previous options before adding new sizes
    modalSizes.innerHTML = '';
    
    // Add size options to the dropdown
    product.sizes.forEach(size => {
        const option = document.createElement('option');
        option.value = size;
        option.textContent = size;
        modalSizes.appendChild(option);
    });

    purchaseButton.addEventListener("click", () => {
        const selectedSize = modalSizes.value;
        if (selectedSize) {
            alert(`You've selected ${selectedSize} products. The purchase functionality is not implemented yet.`);
            closeModal();
        } else {
            alert("Please select a quantity.");
        }
    });

    modal.style.display = "block";
}


// Function to close the modal
function closeModal() {
    const modal = document.getElementById("modal");
    modal.style.display = "none";
}

// Add event listeners to each product card
const productCards = document.querySelectorAll(".card");
productCards.forEach((card, index) => {
    card.addEventListener("click", () => {
        const product = products.data[index]; // Get product details from the products object
        openModal(product);
    });
});

// Close the modal when the close button is clicked
const closeButton = document.querySelector(".close");
closeButton.addEventListener("click", () => {
    closeModal();
});

// Close the modal when clicking outside the modal content
window.addEventListener("click", event => {
    const modal = document.getElementById("modal");
    if (event.target === modal) {
        closeModal();
    }
});
