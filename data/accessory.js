let products = {
    data : [
        {
            productName : "Air Jordan 1",
            price : "$250",
            image : "https://images.stockx.com/images/Air-Jordan-1-Retro-High-OG-Chicago-Reimagined-Product.jpg",
            sizes : ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10"]
        },
        {
            productName : "Air Jordan 1 Low",
            price : "$850",
            image : "https://images.stockx.com/images/Air-Jordan-1-Retro-Low-OG-SP-Travis-Scott-Reverse-Mocha_V2-Product.jpg",
            sizes : ["6", "7", "8", "9", "10", "11", "12", "13"]
        },
        {
            productName : "Air Jordan 3",
            price : "$300",
            image : "https://authentic-shoes.com/wp-content/uploads/2023/04/air-jordan-3-retro-fire-red-2022_ef39f60eefe9423e874a22c076cf4d86.png",
            sizes : ["6", "7", "8", "9", "10", "11", "12", "13"]
        },
        {
            productName : "Air Jordan 4",
            price : "$250",
            image : "https://images.stockx.com/images/Air-Jordan-4-Retro-Military-Black-Product.jpg",
            sizes : ["6", "7", "8", "9", "10", "11", "12", "13"]
        },
        {
            productName : "Air Jordan 5",
            price : "$220",
            image : "https://images.stockx.com/images/Air-Jordan-5-Retro-Fire-Red-2013-Product.jpg?fit=fill&bg=FFFFFF&w=700&h=500&fm=webp&auto=compress&q=90&dpr=2&trim=color&updated_at=1607663937",
            sizes : ["6", "7", "8", "9", "10", "11", "12", "13"]
        },
        {
            productName : "Nike Dunk Low",
            price : "$80",
            image : "https://images.stockx.com/images/Nike-Dunk-Low-Retro-White-Black-2021-Product.jpg",
            sizes : ["6", "7", "8", "9", "10", "11", "12", "13"]
        },
        {
            productName : "Air Jordan 7",
            price : "$120",
            image : "https://images.stockx.com/images/Air-Jordan-7-Retro-Pantone-Product.jpg?fit=fill&bg=FFFFFF&w=700&h=500&fm=webp&auto=compress&q=90&dpr=2&trim=color&updated_at=1607662998",
            sizes : ["6", "7", "8", "9", "10", "11", "12", "13"]
        },
        {
            productName : "Kobe 6 Protro",
            price : "$265",
            image : "https://images.stockx.com/images/Nike-Kobe-6-Protro-Reverse-Grinch-Product.jpg",
            sizes : ["6", "7", "8", "9", "10", "11", "12", "13"]
        },
        {
            productName : "Nike Dunk Low",
            price : "$190",
            image : "https://images.stockx.com/images/Nike-Dunk-Low-Retro-PRM-Kyler-Murray-Be-1-of-One-Product.jpg",
            sizes : ["6", "7", "8", "9", "10", "11", "12", "13"]
        },
        {
            productName : "Crocs Classic",
            price : "$90",
            image : "https://images.stockx.com/images/Crocs-Classic-Clog-Lightning-McQueen-Product.jpg",
            sizes : ["6", "7", "8", "9", "10", "11", "12", "13"]
        },
        {
            productName : "Air Jordan 11",
            price : "$177",
            image : "https://images.stockx.com/images/Air-Jordan-11-Retro-Cherry-2022-Product.jpg?fit=fill&bg=FFFFFF&w=700&h=500&fm=webp&auto=compress&q=90&dpr=2&trim=color&updated_at=1669100668",
            sizes : ["6", "7", "8", "9", "10", "11", "12", "13"]
        },
        {
            productName : "Air Jordan 12",
            price : "$150",
            image : "https://images.stockx.com/360/Air-Jordan-12-Retro-Royalty-Taxi/Images/Air-Jordan-12-Retro-Royalty-Taxi/Lv2/img01.jpg?fm=jpg&auto=compress&w=480&dpr=2&updated_at=1635744340&h=320&q=60",
            sizes : ["6", "7", "8", "9", "10", "11", "12", "13"]
        },
        {
            productName : "Air Jordan 13",
            price : "$175",
            image : "https://authentic-shoes.com/wp-content/uploads/2023/08/Air-Jordan-13-Retro-Wolf-Grey-1.png",
            sizes : ["6", "7", "8", "9", "10", "11", "12", "13"]
        },
        {
            productName : "Crocs Classic",
            price : "$80",
            image : "https://images.stockx.com/images/Crocs-Classic-Clog-DreamWorks-Shrek-Product.jpg",
            sizes : ["6", "7", "8", "9", "10", "11", "12", "13"]
        },
        {
            productName : "Air Jordan 15",
            price : "$80",
            image : "https://authentic-shoes.com/wp-content/uploads/2023/04/821518_01.jpg_ae1195c0ee9b40f691b69a8ef867b328.png",
            sizes : ["6", "7", "8", "9", "10", "11", "12", "13"]
        },
        {
            productName : "adidas Campus 00s",
            price : "$85",
            image : "https://images.stockx.com/images/adidas-Campus-00s-Grey-White-Product.jpg",
            sizes : ["6", "7", "8", "9", "10", "11", "12", "13"]
        },
        {
            productName : "New Balance 2002R",
            price : "$120",
            image : "https://images.stockx.com/images/New-Balance-M2002-Protection-Pack-Rain-Cloud-Product.jpg",
            sizes : ["6", "7", "8", "9", "10", "11", "12", "13"]
        },
        {
            productName : "adidas Yeezy Boost 350 V2",
            price : "$200",
            image : "https://images.stockx.com/images/adidas-Yeezy-Boost-350-V2-Pure-Oat-Product.jpg",
            sizes : ["6", "7", "8", "9", "10", "11", "12", "13"]
        },
        {
            productName : "adidas Yeezy Boost 350 V2",
            price : "$200",
            image : "https://images.stockx.com/images/adidas-Yeezy-Boost-350-V2-Onyx-Product.jpg",
            sizes : ["6", "7", "8", "9", "10", "11", "12", "13"]
        },
        {
            productName : "New Balance 550",
            price : "$80",
            image : "https://images.stockx.com/images/New-Balance-550-White-University-Blue-Grey-Toe-Product.jpg",
            sizes : ["6", "7", "8", "9", "10", "11", "12", "13"]
        },
        {
            productName : "Vans Old Skool",
            price : "$40",
            image : "https://images.stockx.com/images/Vans-Old-Skool-Black-White-Product.jpg",
            sizes : ["6", "7", "8", "9", "10", "11", "12", "13"]
        },
        {
            productName : "Vans Knu Skool",
            price : "$65",
            image : "https://images.stockx.com/images/Vans-Knu-Skool-Black-White-Product.jpg",
            sizes : ["6", "7", "8", "9", "10", "11", "12", "13"]
        },
        {
            productName : "Converse Chuck Taylor All Star 70 Hi",
            price : "$100",
            image : "https://images.stockx.com/images/Converse-Chuck-Taylor-All-Star-70s-Hi-Comme-des-Garcons-PLAY-Black-Product.jpg",
            sizes : ["6", "7", "8", "9", "10", "11", "12", "13"]
        },
        {
            productName : "Converse Chuck Taylor All Star 70 Ox",
            price : "$100",
            image : "https://images.stockx.com/images/Converse-Chuck-Taylor-All-Star-70-Ox-Comme-des-Garcons-PLAY-Multi-Heart-Black.jpg",
            sizes : ["6", "7", "8", "9", "10", "11", "12", "13"]
        }
    ]
}

for (let i of products.data) {

    let card = document.createElement("div")
    card.classList.add("card")

    let imgContainer = document.createElement("div")
    imgContainer.classList.add("image-container")

    let image = document.createElement("img")
    image.setAttribute("src", i.image)
    imgContainer.appendChild(image)
    card.appendChild(imgContainer)

    let container = document.createElement("div")
    container.classList.add("card-container")

    let name = document.createElement("h5");
    name.classList.add("product-name");
    name.innerText = i.productName.toUpperCase();
    card-container.appendChild(name);

    let price = document.createElement("h6");
    price.innerText =  i.price;
    card-container.appendChild(price);
  
    card.appendChild(container);
    document.getElementById("products").appendChild(card);
}

console.log(products)



function openModal(product) {
    const modal = document.getElementById("modal");
    const modalImage = modal.querySelector(".modal-product-image");
    const modalName = modal.querySelector(".modal-product-name");
    const modalPrice = modal.querySelector(".modal-product-price");
    const modalSizes = modal.querySelector(".modal-product-sizes");
    const purchaseButton = modal.querySelector(".purchase-button");

    modalImage.src = product.image;
    modalName.textContent = product.productName;
    modalPrice.textContent = product.price;

    // Clear previous options before adding new sizes
    modalSizes.innerHTML = '';
    
    // Add size options to the dropdown
    product.sizes.forEach(size => {
        const option = document.createElement('option');
        option.value = size;
        option.textContent = size;
        modalSizes.appendChild(option);
    });

    purchaseButton.addEventListener("click", () => {
        const selectedSize = modalSizes.value;
        if (selectedSize) {
            alert(`You've selected ${selectedSize} products. The purchase functionality is not implemented yet.`);
            closeModal();
        } else {
            alert("Please select a quantity.");
        }
    });

    modal.style.display = "block";
}


// Function to close the modal
function closeModal() {
    const modal = document.getElementById("modal");
    modal.style.display = "none";
}

// Add event listeners to each product card
const productCards = document.querySelectorAll(".card");
productCards.forEach((card, index) => {
    card.addEventListener("click", () => {
        const product = products.data[index]; // Get product details from the products object
        openModal(product);
    });
});

// Close the modal when the close button is clicked
const closeButton = document.querySelector(".close");
closeButton.addEventListener("click", () => {
    closeModal();
});

// Close the modal when clicking outside the modal content
window.addEventListener("click", event => {
    const modal = document.getElementById("modal");
    if (event.target === modal) {
        closeModal();
    }
});
