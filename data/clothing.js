let products = {
    data : [
        {
            productName : "Supreme Corteiz Rules The World Tee",
            price : "$90",
            image : "https://images.stockx.com/images/Supreme-Corteiz-Rule-The-World-Tee-Black.jpg",
            sizes : ["XS", "S", "M", "L", "XL", "2XL"]
        },
        {
            productName : "Denim Tears x Offset Set It Off #2 T-shirt",
            price : "$100",
            image : "https://images.stockx.com/images/Denim-Tears-x-Offset-Set-It-Off-2-T-shirt-Black.jpg",
            sizes : ["XS", "S", "M", "L", "XL", "2XL"]
        },
        {
            productName : "Supreme Box Logo Tee",
            price : "$75",
            image : "https://images.stockx.com/images/Supreme-Box-Logo-Tee-FW23-White.jpg",
            sizes : ["XS", "S", "M", "L", "XL", "2XL"]
        },
        {
            productName : "Nike Big Swoosh Reversible Boa Jacket",
            price : "$70",
            image : "https://images.stockx.com/images/Nike-Big-Swoosh-Reversible-Boa-Jacket-Asia-Sizing-Black-White.jpg",
            sizes : ["XS", "S", "M", "L", "XL", "2XL"]
        },
        {
            productName : "Nike Sportswear Tech Fleece Joggers",
            price : "$45",
            image : "https://images.stockx.com/images/Nike-Tech-Fleece-Joggers-Black-v2.jpg",
            sizes : ["XS", "S", "M", "L", "XL", "2XL"]
        },
        {
            productName : "Fear of God Essentials Sweatpants",
            price : "$80",
            image : "https://images.stockx.com/images/Fear-of-God-Essentials-Sweatpants-SS22-Light-Oatmeal.jpg",
            sizes : ["XS", "S", "M", "L", "XL", "2XL"]
        },
        {
            productName : "Anti Social Social Club Cancelled T-Shirt",
            price : "$70",
            image : "https://images.stockx.com/images/Anti-Social-Social-Club-Cancelled-T-Shirt-Black.jpg",
            sizes : ["XS", "S", "M", "L", "XL", "2XL"]
        },
        {
            productName : "Nike Sportswear Kids' Tech Fleece Full-Zip Hoodie",
            price : "$80",
            image : "https://images.stockx.com/images/Nike-Sportswear-Kids-Tech-Fleece-Full-Zip-Hoodie-University-Red-Black.jpg",
            sizes : ["XS", "S", "M", "L", "XL", "2XL"]
        },
        {
            productName : "Stussy x Nike Nylon Short",
            price : "$50",
            image : "https://images.stockx.com/images/Stussy-x-Nike-Nylon-Short-Black.jpg",
            sizes : ["XS", "S", "M", "L", "XL", "2XL"]
        },
        {
            productName : "Travis Scott x McDonald's Sesame II T-Shirt",
            price : "$45",
            image : "https://images.stockx.com/images/Travis-Scott-x-McDonalds-Sesame-II-T-Shirt-Black-Red.jpg",
            sizes : ["XS", "S", "M", "L", "XL", "2XL"]
        },
        {
            productName : "Comme des Garcons Play Red Half Heart T-shirt",
            price : "$60",
            image : "https://images.stockx.com/images/Comme-des-Garcons-PLAY-Red-Half-Heart-T-shirt-White.jpg",
            sizes : ["XS", "S", "M", "L", "XL", "2XL"]
        },
        {
            productName : "KAWS x Uniqlo UT Short Sleeve Artbook Cover T-shirt",
            price : "$22",
            image : "https://images.stockx.com/images/KAWS-x-Uniqlo-UT-Short-Sleeve-Artbook-Cover-T-shirt-White.jpg",
            sizes : ["XS", "S", "M", "L", "XL", "2XL"]
        },
        {
            productName : "Nike Sportswear Tech Fleece Joggers",
            price : "$50",
            image : "https://images.stockx.com/images/Nike-Sportswear-Tech-Fleece-Joggers-Black-Dark-Beetroot-Phantom-v3.jpg",
            sizes : ["XS", "S", "M", "L", "XL", "2XL"]
        },
        {
            productName : "Fear of God Essentials Sweatshort",
            price : "$30",
            image : "https://images.stockx.com/images/Fear-of-God-Essentials-Sweatshort-SS22-Dark-Oatmeal.jpg",
            sizes : ["XS", "S", "M", "L", "XL", "2XL"]
        },
        {
            productName : "Air Jordan Essentials Puffer Jacket",
            price : "$80",
            image : "https://images.stockx.com/images/Air-Jordan-Essentials-Puffer-Jacket-Black-Red.jpg",
            sizes : ["XS", "S", "M", "L", "XL", "2XL"]
        },
        {
            productName : "Nike Storm Fit Windrunner Primaloft Puffer Jacket",
            price : "$85",
            image : "https://images.stockx.com/images/Nike-Storm-Fit-Windrunner-Primaloft-Puffer-Jacket-Khaki-Light-Bone-Sail.jpg",
            sizes : ["XS", "S", "M", "L", "XL", "2XL"]
        },
        {
            productName : "BAPE Ape Head Graffiti Tee",
            price : "$80",
            image : "https://images.stockx.com/images/BAPE-Ape-Head-Graffiti-Tee-White.jpg",
            sizes : ["XS", "S", "M", "L", "XL", "2XL"]
        },
        {
            productName : "Denim Tears The Cotton Wreath Shorts",
            price : "$50s",
            image : "https://images.stockx.com/images/Denim-Tears-The-Cotton-Wreath-Shorts-Black.jpg",
            sizes : ["XS", "S", "M", "L", "XL", "2XL"]
        },
        {
            productName : "Jordan x A Ma ManiÃ©re T-shirt",
            price : "$60",
            image : "https://images.stockx.com/images/Jordan-x-A-Ma-Maniere-T-shirt-Black.jpg",
            sizes : ["XS", "S", "M", "L", "XL", "2XL"]
        },
        {
            productName : "Supreme Hanes Bones Thermal Pant",
            price : "$50",
            image : "https://images.stockx.com/images/Supreme-Hanes-Bones-Thermal-Pant-1-Pack-Black.jpg",
            sizes : ["XS", "S", "M", "L", "XL", "2XL"]
        },
        {
            productName : "Kith x Disney Mickey & Friends Goofy Classic Logo Hoodie",
            price : "$40",
            image : "https://images.stockx.com/images/Kith-x-Disney-Mickey-Friends-Goofy-Classic-Logo-Hoodie-Stadium.jpg",
            sizes : ["XS", "S", "M", "L", "XL", "2XL"]
        },
        {
            productName : "Nike Therma-FIT Synthetic Reversible Bomber Jacket",
            price : "$60",
            image : "https://images.stockx.com/images/Nike-Therma-FIT-Synthetic-Phil-Reversible-Bomber-Jacket-Asia-Sizing-Black.jpg",
            sizes : ["XS", "S", "M", "L", "XL", "2XL"]
        },
        {
            productName : "Nike FC Barcelona x The Rolling Stones 23/24 Jersey",
            price : "$100",
            image : "https://images.stockx.com/images/Nike-FC-Barcelona-x-The-Rolling-Stones-23-24-Jersey-Multicolor.jpg",
            sizes : ["XS", "S", "M", "L", "XL", "2XL"]
        },
        {
            productName : "Anti Social Social Club Partly Cloudy T-shirt",
            price : "$80",
            image : "https://images.stockx.com/images/Anti-Social-Social-Club-Partly-Cloudy-T-shirt-Blue.jpg",
            sizes : ["XS", "S", "M", "L", "XL", "2XL"]
        }
    ]
}

for (let i of products.data) {

    let card = document.createElement("div")
    card.classList.add("card")

    let imgContainer = document.createElement("div")
    imgContainer.classList.add("image-container")

    let image = document.createElement("img")
    image.setAttribute("src", i.image)
    imgContainer.appendChild(image)
    card.appendChild(imgContainer)

    let container = document.createElement("div")
    container.classList.add("card-container")

    let name = document.createElement("h5");
    name.classList.add("product-name");
    name.innerText = i.productName.toUpperCase();
    card-container.appendChild(name);

    let price = document.createElement("h6");
    price.innerText =  i.price;
    card-container.appendChild(price);
  
    card.appendChild(container);
    document.getElementById("products").appendChild(card);
}

console.log(products)



function openModal(product) {
    const modal = document.getElementById("modal");
    const modalImage = modal.querySelector(".modal-product-image");
    const modalName = modal.querySelector(".modal-product-name");
    const modalPrice = modal.querySelector(".modal-product-price");
    const modalSizes = modal.querySelector(".modal-product-sizes");
    const purchaseButton = modal.querySelector(".purchase-button");

    modalImage.src = product.image;
    modalName.textContent = product.productName;
    modalPrice.textContent = product.price;

    // Clear previous options before adding new sizes
    modalSizes.innerHTML = '';
    
    // Add size options to the dropdown
    product.sizes.forEach(size => {
        const option = document.createElement('option');
        option.value = size;
        option.textContent = size;
        modalSizes.appendChild(option);
    });

    purchaseButton.addEventListener("click", () => {
        const selectedSize = modalSizes.value;
        if (selectedSize) {
            alert(`You've selected size ${selectedSize}. The purchase functionality is not implemented yet.`);
            closeModal();
        } else {
            alert("Please select a size.");
        }
    });

    modal.style.display = "block";
}


// Function to close the modal
function closeModal() {
    const modal = document.getElementById("modal");
    modal.style.display = "none";
}

// Add event listeners to each product card
const productCards = document.querySelectorAll(".card");
productCards.forEach((card, index) => {
    card.addEventListener("click", () => {
        const product = products.data[index]; // Get product details from the products object
        openModal(product);
    });
});

// Close the modal when the close button is clicked
const closeButton = document.querySelector(".close");
closeButton.addEventListener("click", () => {
    closeModal();
});

// Close the modal when clicking outside the modal content
window.addEventListener("click", event => {
    const modal = document.getElementById("modal");
    if (event.target === modal) {
        closeModal();
    }
});
